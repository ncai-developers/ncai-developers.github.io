!function(e){function t(e,t,n,a,s,o,i,r,c,l){n.debug("run"),o.ready(function(){n.debug("ready"),e.register(),"a"!==ionic.Platform.grade.toLowerCase()&&"b"!==ionic.Platform.grade.toLowerCase()&&t.views.transition("none"),"undefined"!=typeof cordova&&cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),"undefined"!=typeof cordova&&"undefined"!=typeof $cordovaKeyboard&&$cordovaKeyboard.hideAccessoryBar(!0),"undefined"!=typeof StatusBar&&(window.StatusBar.styleDefault(),window.StatuBar.overlaysWebView(!1)),"undefined"!=typeof cordova&&"android"===cordova.platformId&&StatusBar.backgroundColorByHexString("#EEEEEE")}).then(function(){"undefined"!=typeof navigator.splashscreen&&s(function(){navigator.splashscreen.hide()},500)}),r.$on("$stateChangeStart",function(e,t,n,a){navigator.onLine===!0?r.connection="online":r.connection="offline",r.online=navigator.onLine,"true"!==window.localStorage.auth&&"login"!==t.name&&(e.preventDefault(),c.go("login"))}),a.Cache(["img/bg-mild.jpg","img/bg-dark.jpg","img/bg-light.jpg","img/placeholder-rec.jpg","img/placeholder-square.jpg","img/icon.png"]).then(function(){n.debug("Images done loading!")},function(e){n.debug("Image failed: "+e)}),l.addEventListener("offline",function(){r.$apply(function(){r.online=!1,r.connection="offline"}),n.warn("you are now offline")},!1),l.addEventListener("online",function(){r.$apply(function(){r.online=!0,r.connection="online"}),n.warn("you are now online")},!1)}e.module("studentaccess",["ionic","ionic.service.core","ionic-material","ionic.service.analytics","ngCordova","pascalprecht.translate","dcbImgFallback","ionic.ion.imageCacheFactory","chart.js","LocalForageModule"]).run(["$ionicAnalytics","$ionicConfig","$log","$ImageCacheFactory","$timeout","$ionicPlatform","$cordovaSplashscreen","$rootScope","$state","$window",t]).constant("AUTH_EVENTS",{notAuthenticated:"auth-not-authenticated"})}(window.angular),function(){angular.module("studentaccess").run(["$templateCache",function(e){e.put("components/cafeteria/cafeteria.html",'<ion-view name="master-view" class="themeBackgroundColor">\n  <ion-nav-title><span translate-once="CAFETERIA-VIEW-TITLE"></span></ion-nav-title>\n  <ion-nav-buttons side="left">\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\n  </ion-nav-buttons>\n\n  <div class="row custom-row responsive-lg">\n    <div class="col custom-col col-50 col-offset-25">\n      <div class="searchBar" ng-show="cafeteria.showSearchBar">\n        <br>\n        <div class="card">\n          <ion-item class="item-input">\n            <i class="icon ion-search placeholder-icon"></i>\n            <input type="text" autofocus translate-once-placeholder="SEARCH" ng-model="cafeteria.searchBar.bar">\n            <button ng-click="::cafeteria.emptySearchBar()" class="button-clear">\n              <i class="icon ion-close"></i>\n            </button>\n          </ion-item>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <confetti today="::today" birthday="::birthday"></confetti>\n  <ion-content overflow-scroll="true">\n    <ion-refresher on-refresh="::cafeteria.refresh()"></ion-refresher>\n    <span ng-show="cafeteria.showSearchBar"><br><br></span>\n    <div class="row custom-row responsive-lg">\n      <div class="col custom-col col-50">\n        <br>\n        <!--menu-->\n        <div class="card">\n          <ion-item class="item-divider"><span translate-once="CAFETERIA-TODAYS-FOOD"></span></ion-item>\n          <ion-item class="item-border" ng-repeat="item in cafeteria.cafeteriaMenu | orderBy: \'calc_date\'" ng-class="{\'todaysHW\':(item.calc_date == date)}">\n            <div class="row custom-row">\n              <div class="col custom-col">\n                <b>\n                  {{::item.calc_date}}:\n                </b>\n              </div>\n              <div class="col custom-col">\n                {{::item.calc_menu}}\n              </div>\n            </div>\n          </ion-item>\n          <ion-item class="padding" ng-show="!cafeteria.cafeteriaMenu.length"><span translate-once="CAFETERIA-NOFOOD"></span></ion-item>\n        </div>\n        <br>\n        <!--balance history-->\n        <div class="card card-fab">\n          <div class="title-fab" ng-click="::cafeteria.switch()" >\n            <ion-item class="item-divider">\n              <span translate-once="CAFETERIA-BALANCE-HISTORY"></span><span ng-show="cafeteria.current"> | {{cafeteria.current|translate}}</span>\n            </ion-item>\n            <button id="balance-fab" class="button button-fab custom-fab accent-color icon ion-loop"></button>\n          </div>\n          <ion-item ng-show="(cafeteria.familyTransactions.labels.length && cafeteria.current === \'CAFETERIA-FAMILY\') || (cafeteria.studentTransactions.labels.length && cafeteria.current === \'CAFETERIA-STUDENT\')">\n            <canvas class="chart chart-line" chart-data="[cafeteria.chartData]" chart-labels="cafeteria.chartLabels">\n            </canvas>\n          </ion-item>\n          <ion-item ng-show="!cafeteria.familyTransactions.labels.length && cafeteria.current === \'CAFETERIA-FAMILY\'">\n            <span translate-once="CAFETERIA-NO-FAMILY-TRANSACTIONS"></span>\n          </ion-item>\n          <ion-item ng-show="!cafeteria.studentTransactions.labels.length && cafeteria.current === \'CAFETERIA-STUDENT\'">\n            <span translate-once="CAFETERIA-NO-STUDENT-TRANSACTIONS"></span>\n          </ion-item>\n        </div>\n      </div>\n      <div class="col custom-col col-50">\n        <br>\n        <!--transactionHistory-->\n        <div class="card card-fab">\n          <div class="title-fab" ng-click="::cafeteria.doShowSearchBar()" >\n            <ion-item class="margin-bottom item-divider">\n              <span translate-once="CAFETERIA-TRANSACTION-HISTORY"></span>\n            </ion-item>\n            <button id="transaction-fab" class="button button-fab custom-fab accent-color icon ion-search"></button>\n          </div>\n          <ion-item class="custom-item item-text-wrap alternate-colors" ng-repeat="item in cafeteria.transactionHistory | filter:cafeteria.searchBar.bar | limitTo:cafeteria.transactionLimit">\n            <div class="row custom-row" ng-show="::item.credhist_method">\n              <b class="col custom-col">\n                <span translate-once="CAFETERIA-TRANSACTION-METHOD"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::item.credhist_method}}\n              </div>\n            </div>\n            <div class="row custom-row" ng-show="::item.credhist_description">\n              <b class="col custom-col">\n                <span translate-once="CAFETERIA-TRANSACTION-ITEM"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::item.credhist_description}}\n              </div>\n            </div>\n            <div class="row custom-row" ng-show="::item.credhist_authorized">\n              <b class="col custom-col">\n                <span translate-once="CAFETERIA-TRANSACTION-AUTHORIZED-BY"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::item.credhist_authorized}}\n              </div>\n            </div>\n            <div class="row custom-row" ng-show="::item.credhist_datetime">\n              <b class="col custom-col">\n                <span translate-once="CAFETERIA-TRANSACTION-DATE-TIME"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::item.credhist_datetime}}\n              </div>\n            </div>\n            <div class="row custom-row" ng-show="::item.credhist_debit">\n              <b class="col custom-col">\n                <span translate-once="CAFETERIA-TRANSACTION-PRICE"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::item.credhist_debit|currency}}\n              </div>\n            </div>\n          </ion-item>\n          <ion-item ng-show="!(cafeteria.transactionHistory | filter:cafeteria.searchBar.bar).length">\n            <span translate-once="CAFETERIA-NOTHING-FOUND"></span>\n          </ion-item>\n          <ion-item class="item-border" ng-show="(((cafeteria.transactionLimit >= 12) || (cafeteria.transactionHistory.length <= 12)) && (cafeteria.transactionHistory | filter:cafeteria.searchBar.bar).length)" ng-click="::cafeteria.transactionShowLess()">\n            <span translate-once="CAFETERIA-SHOW-LESS"></span>\n          </ion-item>\n          <ion-item ng-show="((cafeteria.transactionLimit < cafeteria.transactionHistory.length) && (cafeteria.transactionHistory | filter:cafeteria.searchBar.bar).length)" ng-click="::cafeteria.transactionShowMore()">\n            <span translate-once="CAFETERIA-SHOW-MORE"></span>\n          </ion-item>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),e.put("components/events/event-details.html",'<ion-view cache-view="false" name="master-view" class="themeBackgroundColor">\n  <ion-nav-title>{{::eventsDetails.eventSubject}}</ion-nav-title>\n  <ion-nav-buttons side="left">\n    <button class="button button-clear" ng-click="::eventsDetails.goEvents()">\n      <i class="padding icon icon-left ion-chevron-left"></i>\n    </button>\n  </ion-nav-buttons>\n  <confetti today="::today" birthday="::birthday"></confetti>\n  <ion-content overflow-scroll="true">\n    <div class="row custom-row responsive-lg">\n      <div class="col custom-col col-50 col-offset-25">\n        <div style="-webkit-user-select: text;" class="card">\n          <ion-item class="item-divider">\n            {{::eventsDetails.eventSubject}}\n          </ion-item>\n          <ion-item ng-show="::eventsDetails.eventText" class="item-text-wrap">\n            {{::eventsDetails.eventText}}\n          </ion-item>\n          <ion-item ng-show="::(eventsDetails.eventCalcStartDate||eventsDetails.eventCalcStartTime||eventsDetails.eventLocation)">\n            <div class="row custom-row" ng-show="::eventsDetails.eventCalcStartDate">\n              <b class="col custom-col">\n                <span translate-once="EVENTS-DATE"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::eventsDetails.eventCalcStartDate}}\n              </div>\n            </div>\n            <div class="row custom-row" ng-show="::eventsDetails.eventCalcStartTime">\n              <b class="col custom-col">\n                <span translate-once="EVENTS-TIME"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::eventsDetails.eventCalcStartTime}}\n              </div>\n            </div>\n            <div class="row custom-row" ng-show="::eventsDetails.eventLocation">\n              <b class="col custom-col">\n                <span translate-once="EVENTS-LOCATION"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::eventsDetails.eventLocation}}\n              </div>\n            </div>\n          </ion-item>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),e.put("components/events/events.html",'<ion-view name="master-view" class="themeBackgroundColor">\n  <ion-nav-title><span translate-once="EVENTS-VIEW-TITLE"></span></ion-nav-title>\n  <ion-nav-buttons side="left">\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\n  </ion-nav-buttons>\n  <confetti today="::today" birthday="::birthday"></confetti>\n  <ion-content scrollbar-y="false" overflow-scroll="true">\n    <ion-refresher on-refresh="::events.refresh()"></ion-refresher>\n    <div class="row custom-row responsive-lg">\n      <div class="col custom-col col-50 col-offset-25">\n        <div ng-repeat="item in events.events" class="card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\n          <ion-item href="#/app/events/{{::item.ev_id}}" class="custom-item item-text-wrap" ng-class="{\'todaysHW\':(item.ev_date_start === date)}">\n            <div class="row custom-row">\n              <div ng-show="::item.calc_ev_date_start" class="col custom-col">\n                <b>{{::item.calc_ev_date_start}}:</b>\n              </div>\n              <div ng-show="::item.calc_subject" class="col custom-col">\n                {{::item.calc_subject}}\n              </div>\n            </div>\n            <div class="row custom-row" ng-show="::item.calc_location">\n              <div class="col custom-col">\n                <span translate-once="EVENTS-LOCATION"></span>:\n              </div>\n              <div class="col custom-col">\n                {{::item.calc_location}}\n              </div>\n            </div>\n            <div class="row custom-row" ng-show="::item.ev_time_start">\n              <div class="col custom-col">\n                <span translate-once="EVENTS-TIME"></span>:\n              </div>\n              <div class="col custom-col">\n                {{::item.ev_time_start}}\n              </div>\n            </div>\n          </ion-item>\n        </div>\n        <div class="card" style="text-align:center" ng-show="!events.events.length">\n          <ion-item>\n            <span translate-once="EVENTS-NOEVENTS"></span>\n          </ion-item>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),e.put("components/grades/grades-details.html",'<ion-view cache-view="false" name="master-view" class="themeBackgroundColor">\n  <ion-nav-title>{{::gradesDetails.gradeClass}}</ion-nav-title>\n  <ion-nav-buttons side="left">\n    <button class="button button-clear" ng-click="::gradesDetails.goGrades()">\n      <i class="padding icon icon-left ion-chevron-left"></i>\n    </button>\n  </ion-nav-buttons>\n  <confetti today="::today" birthday="::birthday"></confetti>\n  <ion-content overflow-scroll="true">\n    <div class="row custom-row responsive-lg">\n      <div class="col custom-col col-50">\n        <div class="card" ng-show="::gradesDetails.gradeTeacherName">\n          <ion-item class="item-thumbnail-left item-text-wrap" style="min-height:115px">\n            <div class="roundbutton" id="teacherWrapper">\n              <img id="teacherPicture" ng-src loading-src="{{::\'img/placeholder-square.jpg\'}}" fallback-src="{{::\'img/placeholder-square.jpg\'}}"/>\n            </div>\n            <h2 style="padding-top:10px">{{::gradesDetails.gradeTeacherName}}</h2>\n            <p class="item-text-wrap" ng-show="::gradesDetails.gradeTeacherEmail">\n              <span translate-once="GRADES-TEACHER-EMAIL"></span>:\n              <dfn>\n                <a href="mailto:{{::gradesDetails.gradeTeacherEmail}}">\n                  {{::gradesDetails.gradeTeacherEmail}}\n                </a>\n              </dfn>\n            </p>\n            <p class="item-text-wrap" ng-show="::gradesDetails.gradeTeacherPhone">\n              <span translate-once="GRADES-TEACHER-PHONE"></span>:\n              <dfn>\n                <a href="tel:{{::gradesDetails.gradeTeacherPhone}}">\n                   {{::gradesDetails.gradeTeacherPhone}}\n                </a>\n              </dfn>\n            </p>\n            </ion-item>\n        </div>\n        <br ng-show="::gradesDetails.gradeAverage">\n        <div class="card card-fab">\n          <div class="title-fab">\n            <ion-item class="item-divider">\n              {{::gradesDetails.gradeClass}}\n            </ion-item>\n             <button class="grade-button button button-fab custom-fab roundbutton" ng-show="gradesDetails.gradeAverage"\n                     ng-class="::{\n                       \'worstGradeButton\':(gradesDetails.gradeAverage <= 60),\n                       \'badGradeButton\':(gradesDetails.gradeAverage < 80 && gradesDetails.gradeAverage > 60),\n                       \'okGradeButton\':(gradesDetails.gradeAverage >= 80 && gradesDetails.gradeAverage < 95),\n                       \'bestGradeButton\':(gradesDetails.gradeAverage >= 95)\n                     }"\n                     style="-webkit-mask-image: none"><!--to prevent button activation-->\n                {{::gradesDetails.gradeAverage}}\n              </button>\n          </div>\n          <ion-item class="item-text-wrap">\n            {{::gradesDetails.gradeClassDesc}}\n            <span ng-show="::gradesDetails.gradeClassDesc"><br><br></span>\n            <div class="row custom-row" ng-show="::gradesDetails.gradeClassPeriod">\n              <b class="col custom-col">\n                <span translate-once="GRADES-CLASS-PERIOD"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::gradesDetails.gradeClassPeriod}}\n              </div>\n            </div>\n            <div class="row custom-row" ng-show="::gradesDetails.gradeClassRoom">\n              <b class="col custom-col">\n                <span translate-once="GRADES-CLASS-ROOM"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::gradesDetails.gradeClassRoom}}\n              </div>\n            </div>\n            <div class="row custom-row" ng-show="::gradesDetails.gradeBreakdown">\n              <b class="col custom-col">\n                <span translate-once="GRADES-BREAKDOWN"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::gradesDetails.gradeBreakdown}}\n              </div>\n            </div>\n            <div class="row custom-row" ng-show="::gradesDetails.gradeLastUpdate">\n              <b class="col custom-col">\n                <span translate-once="GRADES-LAST-UPDATED"></span>:\n              </b>\n              <div class="col custom-col">\n                {{::gradesDetails.gradeLastUpdate}}\n              </div>\n            </div>\n          </ion-item>\n        </div>\n      </div>\n      <div class="col custom-col col-50">\n        <div class="card">\n          <ion-item class="item-divider margin-bottom"><span translate-once="GRADES-GRADES"></span></ion-item>\n          <ion-item class="item-text-wrap alternate-colors" ng-repeat="item in ::gradesDetails.gradeGrades | orderBy:\'-gra_date_due\'">\n            <div class="row" style="padding:0;margin:0;">\n              <b id="classDateVert">\n                {{::item.calc_date}}\n              </b>\n              <div class="col custom-col">\n                <b>{{::item.grc_code}}:</b> {{::item.gra_name}}\n                <br>\n                <b><span translate-once="GRADES-YOUR-GRADE"></span>: </b>\n                {{::item.grs_score}}/{{::item.gra_points}}\n                <span ng-show="item.grs_score && item.gra_points && gradesDetails.isFinite(item.grs_score/item.gra_points)"\n                 ng-class="{\n                   \'worstGrade\':((item.grs_score/item.gra_points) <= .60),\n                   \'badGrade\':((item.grs_score/item.gra_points) > .60 && (item.grs_score/item.gra_points) < .85),\n                   \'goodGrade\':((item.grs_score/item.gra_points) >= .85 && (item.grs_score/item.gra_points) < .95),\n                   \'bestGrade\':((item.grs_score/item.gra_points) >= .95)\n                 }">({{::gradesDetails.Math.floor(item.grs_score/item.gra_points * 100)}}%)</span>\n                <br>\n                <b><span translate-once="GRADES-CLASS-AVERAGE"></span>: </b>\n                {{::item.gra_avg}}/{{::item.gra_points}}\n                <span ng-show="item.gra_avg && item.gra_points && gradesDetails.isFinite(item.gra_avg/item.gra_points)"\n                 ng-class="{\n                   \'worstGrade\':((item.gra_avg/item.gra_points) <= .60),\n                   \'badGrade\':((item.gra_avg/item.gra_points) > .60 && (item.gra_avg/item.gra_points) < .85),\n                   \'goodGrade\':((item.gra_avg/item.gra_points) >= .85 && (item.gra_avg/item.gra_points) < .95),\n                   \'bestGrade\':((item.gra_avg/item.gra_points) >= .95)\n                 }">({{::gradesDetails.Math.floor(item.gra_avg/item.gra_points * 100)}}%)</span>\n              </div>\n            </div>\n          </ion-item>\n          <ion-item class="alternate-colors" ng-show="!gradesDetails.gradeGrades.length"><span translate-once="GRADES-NO-GRADES-LIST"></span></ion-item>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),e.put("components/grades/grades.html",'<ion-view name="master-view" class="themeBackgroundColor">\n  <ion-nav-title><span translate-once="GRADES-VIEW-TITLE"></span></ion-nav-title>\n  <ion-nav-buttons side="left">\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\n  </ion-nav-buttons>\n  <confetti today="::today" birthday="::birthday"></confetti>\n  <ion-content overflow-scroll="true">\n    <ion-refresher on-refresh="::grades.refresh()"></ion-refresher>\n    <div class="row custom-row responsive-lg">\n      <div class="col custom-col col-50 col-offset-25">\n        <div class="card" style="text-align:center" ng-show="grades.totalAvg === \'$$.$\'">\n          <p class="item item-text-wrap padding"><span translate-once="GRADES-WITHHELD"></span></p>\n        </div>\n        <ion-item ng-show="grades.totalAvg">\n          <div class="ribbon" ng-class="{\'oweRibbon\':(grades.totalAvg === \'$$.$\'), \'noRibbon\':(grades.totalAvg === \'??.?\'), \'failRibbon\':(grades.totalAvg <= 60), \'badRibbon\':(grades.totalAvg < 80 && grades.totalAvg > 60), \'okRibbon\':(grades.totalAvg >= 80 && grades.totalAvg < 95), \'bestRibbon\':(grades.totalAvg >= 95)}">\n           <button class="roundbutton grade-button"\n                   ng-class="{\n                     \'oweGradeButton\':(grades.totalAvg === \'$$.$\'),\n                     \'noGradeButton\':(grades.totalAvg === \'??.?\'),\n                     \'worstGradeButton\':(grades.totalAvg <= 60),\n                     \'badGradeButton\':(grades.totalAvg < 80 && grades.totalAvg > 60),\n                     \'okGradeButton\':(grades.totalAvg >= 80 && grades.totalAvg < 95),\n                     \'bestGradeButton\':(grades.totalAvg >= 95)\n                   }">\n              {{grades.totalAvg}}\n            </button>\n          </div>\n        </ion-item>\n        <div ng-repeat="item in grades.classes" class="item-text-wrap card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\n          <ion-item href="#/app/grades/{{::item.class_period}}/{{::item.class_teacher_id}}">\n            <b>\n              [<span ng-bind="::item.class_period"></span>]\n              {{::item.class_name}}<span ng-show="::item.class_avg">: </span>\n            </b>\n            <span class="padding-top" ng-class="{\'worstGrade\':(item.class_avg < 61)}">{{::item.class_avg}}</span>\n          </ion-item>\n        </div>\n        <div class="card" style="text-align:center" ng-show="!grades.classes.length">\n          <ion-item>\n            <span translate-once="GRADES-NOCLASSES"></span>\n          </ion-item>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),e.put("components/homework/homework.html",'<ion-view name="master-view" class="themeBackgroundColor">\n  <ion-nav-title><span translate-once="HOMEWORK-VIEW-TITLE"></span></ion-nav-title>\n  <ion-nav-buttons side="left">\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\n  </ion-nav-buttons>\n  <ion-nav-buttons side="right">\n    <button class="button button-icon button-clear ion-android-more-vertical" ng-click="::homework.doShowFilterOptions()"></button>\n  </ion-nav-buttons>\n  <confetti today="::today" birthday="::birthday"></confetti>\n  <ion-content overflow-scroll="true">\n    <ion-refresher on-refresh="::homework.refresh()"></ion-refresher>\n    <div class="row custom-row responsive-lg">\n      <div class="col custom-col col-50 col-offset-25">\n        <ion-checkbox class="item-text-wrap" ng-repeat="item in homework.homeworkCheckList | orderBy: \'-lsn_date\'| filter:homework.homeworkFilter.filter" ng-model="item.checked" ng-checked="item.checked" ng-class="{todaysHW:(item.lsn_date === date)}">\n          <span style="-webkit-user-select: text;" ng-class="{checked:item.checked}">\n            {{::item.calc_date}}\n            <br>\n            <b>{{::item.calc_class}}:</b> {{::item.lsn_hw}}\n          </span>\n        </ion-checkbox>\n        <div class="card" style="text-align:center" ng-show="!homework.homeworkCheckList.length">\n          <ion-item>\n            <span translate-once="HOMEWORK-NOHOMEWORK"></span>\n          </ion-item>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),e.put("components/login/login.html",'<ion-view view-title="{{login.ncaLogo}}" cache-view="false" align-title="center" name="login-view" class="themeBackgroundColor">\n  <ion-content class="padding-horizontal">\n    <div class="row custom-row responsive-lg">\n      <div class="col custom-col col-50 col-offset-25">\n        <form name="loginForm" style="margin-top:10px" ng-submit="login.login(login.data)" novalidate>\n          <div class="list" style="margin-bottom:0">\n            <label class="item item-input item-floating-label">\n              <span class="input-label" translate-once="LOGIN-USER"></span>\n              <input required name="username" type="text" ng-model="login.data.usernameInput" translate-once-placeholder="LOGIN-USER">\n            </label>\n            <label style="border-bottom:none" class="item item-input item-floating-label">\n              <span translate-once="LOGIN-PASSWORD" class="input-label"></span>\n              <input required name="password" type="password" ng-model="login.data.passwordInput" translate-once-placeholder="LOGIN-PASSWORD">\n            </label>\n          </div>\n          <button ng-disabled="loginForm.$invalid" style="color: white;background-color: #33cd5f;margin-top:20px" class="button button-block button-balanced icon-right ion-log-in" translate-once="LOGIN"></button>\n          <!--only used either ng-submit or ng-click, not both https://docs.angularjs.org/api/ng/directive/form#submitting-a-form-and-preventing-the-default-action-->\n        </form>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),e.put("components/menu/sidemenu.html",'<ion-view cache-view="false" hide-nav-bar="true"><!--hide-nav-bar = true solved the addition of .has-header to ion-content-->\n  <ion-side-menus>\n    <ion-side-menu-content>\n      <ion-nav-bar class="default-primary-color"></ion-nav-bar>\n\n      <ion-nav-view name="master-view"></ion-nav-view>\n    </ion-side-menu-content>\n\n    <ion-side-menu expose-aside-when="large" width="250">\n      <ion-content scrollbar-y="false" class="stable-bg">\n        <div id="customSidemenuHeaderBar" class="themeSidemenuHeaderBar">\n          <figure class="padding-top" style="padding-left:24px">\n            <div class="studentmenuphoto roundbutton">\n              <img id="studentMenuPic" style="width:100%" ng-src="{{::studentPhoto}}" loading-src="{{::\'img/placeholder-square.jpg\'}}" fallback-src="{{::\'img/placeholder-square.jpg\'}}"/>\n            </div>\n          </figure>\n          <ion-item id="name" class="sidemenuHeaderBarItem">\n            {{::personName}}\n          </ion-item>\n          <ion-item id="email" class="sidemenuHeaderBarItem">\n            {{::userInputsName}}@nca.edu.ni\n          </ion-item>\n        </div>\n        <ion-list>\n          <ion-item menu-close href="#/app/profile"class="button-flat sidemenuItem icon-item-left">\n            <i class="sidemenuItemI icon" ng-class="{\'ion-ios-person\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-person-outline\':(themeCss == \'light\')}"></i>\n            <span translate="PROFILE-VIEW-TITLE"></span>\n          </ion-item>\n          <ion-item menu-close href="#/app/homework" class="button-flat sidemenuItem icon-item-left">\n            <i class="sidemenuItemI icon" ng-class="{\'ion-ios-bookmarks\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-bookmarks-outline\':(themeCss == \'light\')}"></i>\n            <span translate="HOMEWORK-VIEW-TITLE"></span>\n          </ion-item>\n          <ion-item menu-close href="#/app/grades" class="button-flat sidemenuItem icon-item-left">\n            <i class="sidemenuItemI icon"\n               ng-class="{\'ion-ios-checkmark\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-checkmark-outline\':(themeCss == \'light\')}"></i>\n            <span translate="GRADES-VIEW-TITLE"></span>\n          </ion-item>\n          <ion-item menu-close href="#/app/events" class="button-flat sidemenuItem icon-item-left">\n            <i class="sidemenuItemI icon"\n               ng-class="{\'ion-ios-calendar\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-calendar-outline\':(themeCss == \'light\')}"></i>\n            <span translate="EVENTS-VIEW-TITLE"></span>\n          </ion-item>\n          <ion-item menu-close href="#/app/cafeteria" class="button-flat sidemenuItem icon-item-left">\n            <i class="sidemenuItemI icon"\n               ng-class="{\'ion-social-usd\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-social-usd-outline\':(themeCss == \'light\')}"></i>\n            <span translate="CAFETERIA-VIEW-TITLE"></span>\n          </ion-item>\n          <ion-item menu-close href="#/app/staff" class="button-flat sidemenuItem icon-item-left">\n            <i class="sidemenuItemI icon"\n               ng-class="{\'ion-ios-people\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-people-outline\':(themeCss == \'light\')}"></i>\n            <span translate="STAFF-VIEW-TITLE"></span>\n          </ion-item>\n          <ion-item menu-close href="#/app/settings" class="button-flat sidemenuItem icon-item-left">\n            <i class="sidemenuItemI icon"\n               ng-class="{\'ion-ios-toggle\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-toggle-outline\':(themeCss == \'light\')}"></i>\n            <span translate="SETTINGS-VIEW-TITLE"></span>\n          </ion-item>\n          <ion-item menu-close href="#/login" ng-click="logout()" class="button-flat sidemenuItem icon-item-left">\n            <i class="sidemenuItemI icon ion-log-out"></i>\n            <span translate="LOGOUT"></span>\n          </ion-item>\n        </ion-list>\n      </ion-content>\n    </ion-side-menu>\n  </ion-side-menus>\n</ion-view>\n'),e.put("components/profile/profile.html",'<ion-view name="master-view" class="themeBackgroundColor">\n  <ion-nav-title><span translate="PROFILE-VIEW-TITLE"></span></ion-nav-title>\n  <ion-nav-buttons side="left">\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\n  </ion-nav-buttons>\n  <ion-nav-buttons side="right">\n    <button class="button button-icon button-clear ion-android-more-vertical" ng-click="::profile.doShowActionSheet()"></button>\n  </ion-nav-buttons>\n  <confetti today="::today" birthday="::birthday"></confetti>\n  <ion-content overflow-scroll="true">\n    <ion-refresher on-refresh="profile.refresh()"></ion-refresher>\n    <div class="row custom-row responsive-lg">\n      <div class="col custom-col col-50">\n        <div class="card">\n          <ion-item style="padding:0;margin:0" ng-show="(personName||studentPhoto)">\n            <div class="bar-stable padding-vertical">\n              <ion-item style="overflow:visible;min-height:110px" class="item-thumbnail-left">\n                <span>\n                  <img id="studentProfilePic" ng-src="{{::studentPhoto}}" loading-src="{{\'img/placeholder-rec.jpg\'}}" fallback-src="{{\'img/placeholder-rec.jpg\'}}"/>\n                </span>\n                <br>\n                <h2>{{::personName}}</h2>\n                <p ng-show="profile.studentBirthday"><b><span translate="PROFILE-BORN"></span> :</b> {{::profile.studentBirthday}}</p>\n                <p ng-show="profile.studentGrade"><span translate="PROFILE-ENROLLED"></span> {{::profile.studentGrade}}<span translate="PROFILE-ENROLLED2"></span></p>\n              </ion-item>\n            </div>\n          </ion-item>\n          <ion-item ng-show="(profile.eagleCredits||profile.eagleCreditsFam)">\n            <div ng-show="profile.eagleCredits" class="row custom-row">\n              <b class="col custom-col item-text-wrap"><span translate="PROFILE-BALANCE"></span>:</b>\n              <dfn class="col custom-col item-text-wrap">{{::profile.eagleCredits|currency}}</dfn>\n            </div>\n            <div ng-show="profile.eagleCreditsFam" class="row custom-row">\n              <b class="col custom-col item-text-wrap"><span translate="PROFILE-BALANCE-FAM"></span>:</b>\n              <dfn class="col custom-col item-text-wrap">{{::profile.eagleCreditsFam|currency}}</dfn>\n            </div>\n          </ion-item>\n        </div>\n        <br>\n        <div class="card card-fab">\n          <div class="title-fab" ng-click="::profile.doShowMissing()" >\n            <ion-item ng-class="{\'margin-bottom\':!profile.showMissing}" class="item-divider">\n              <span translate="PROFILE-MISSING"></span>\n            </ion-item>\n            <button id="missing-fab" class="button button-fab custom-fab accent-color">\n              {{profile.missingsNumber}}\n            </button>\n          </div>\n          <div ng-show="profile.showMissing">\n            <div class="list">\n              <ion-checkbox class="item-text-wrap alternate-colors" ng-repeat="item in profile.missingMissing" ng-model="item.checked" ng-checked="item.checked" ng-class="{todaysHW:(item.lsn_date == date)}">\n                <span style="-webkit-user-select: text;" ng-class="{\'checked\':item.checked}">\n                  {{::item.calc_date}}\n                  <br>\n                  <b>{{::item.calc_class}}:</b> {{::item.gra_name}}\n                  <br>\n                  <b><span translate="PROFILE-MISSING-WORTH"></span>: </b>{{::item.gra_points}} <span translate="PROFILE-MISSING-POINTS"></span>\n                </span>\n              </ion-checkbox>\n            </div>\n            <center class="padding-bottom">\n              <button ng-click="::profile.goGrades()" class="button button-dark"><span translate="CHECK-UR-GRADES"></span></button>\n            </center>\n          </div>\n        </div>\n      </div>\n      <div class="col custom-col col-50">\n        <div class="card">\n          <ion-item class="item-divider margin-bottom">\n            <span translate="PROFILE-CLASS-SCHEDULE"></span><span ng-show="profile.schedule.text"> | {{profile.schedule.text}}</span>\n          </ion-item>\n          <ion-item ng-repeat="item in profile.schedule.schedule" class="item-text-wrap alternate-colors">\n            <div class="row custom-row">\n              <div class="col custom-col">\n                <b>{{::item.period}}</b>\n              </div>\n              <div class="col custom-col">\n                <div class="row custom-row">\n                  {{::item.begin}}\n                  <br>\n                  {{::item.end}}\n                </div>\n              </div>\n            </div>\n          </ion-item>\n          <ion-item ng-show="!profile.schedule.schedule.length"><span translate="PROFILE-NO-SCHEDULE"></span></ion-item>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),
e.put("components/settings/settings.html",'<ion-view name="master-view">\n  <ion-nav-title><span translate="SETTINGS-VIEW-TITLE"></span></ion-nav-title>\n  <ion-nav-buttons side="left">\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\n  </ion-nav-buttons>\n  <ion-content overflow-scroll="true" class="themeSettingsBackground themeSidemenuHeaderBar">\n    <div class="row custom-row responsive-lg">\n      <div class="col custom-col col-50 col-offset-25">\n        <div class="card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\n          <label for="selectedLang" class="item item-input item-select">\n            <div class="input-label">\n              <span translate="SETTINGS-SELECTED-LANG"></span>\n            </div>\n            <select \n              class="text-center"\n              ng-change="ChangeLanguage(language)" \n              name="selectedLang" \n              ng-model="language" \n              ng-options="item.lang as item.name for item in ::langs">\n            </select>\n          </label>\n        </div>\n        <div class="card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\n          <label for="themeCss" class="item item-input item-select">\n            <div class="input-label">\n              <span translate="SETTINGS-SELECTED-THEME"></span>\n            </div>\n            <select \n              class="text-center"\n              name="themeCss" \n              ng-model="themeCss" \n              ng-change="ChangeTheme(themeCss)" \n              ng-options="item.url as item.name | translate for item in ::themes">\n            </select>\n          </label>\n        </div>\n        <div class="card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\n          <ion-item style="font-size:16px" ng-click="::settings.doShowDeletePics()">\n            <span translate="SETTINGS-DELETE-PICS"></span>\n          </ion-item>\n        </div>\n        <div class="card text-center" style="background-color:#ecf0f1">\n          <div class="item">\n            <h3><span translate="SETTINGS-SUGGESTIONS"></span></h3>\n            <span translate="SETTINGS-YOUR-NAME"></span>: {{::personName}}\n            <br>\n            <span translate="SETTINGS-SUGGESTION-SUBJECT"></span>: \n            <textarea style="width:100%;" cols="40" rows="2" ng-model="suggestionSubject"></textarea>\n            <span translate="SETTINGS-SUGGESTION-BODY"></span>:\n            <br>\n            <textarea style="width:100%;" cols="40" rows="5" ng-model="suggestionBody"></textarea>\n            <br>\n            <a href="mailto:obedm503@gmail.com?cc=sgparajon@gmail.com&amp;subject=StudentAccess Suggestion: {{::personName}}. {{suggestionSubject}}&amp;body={{suggestionBody}}"><button class="button" ng-click="suggestionBody = null; suggestionSubject = null"><span translate="SETTINGS-SUGGESTION-MAILUS"></span></button></a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>'),e.put("components/staff/staff-details.html",'<ion-view cache-view="false" name="master-view" class="themeBackgroundColor">\n  <ion-nav-buttons side="left">\n    <button class="button button-clear" ng-click="::staffDetails.goStaff()">\n      <i class="padding icon icon-left ion-chevron-left"></i>\n    </button>\n  </ion-nav-buttons>\n  <ion-nav-title>{{::staffDetails.staffName}}</ion-nav-title>\n  <confetti today="::today" birthday="::birthday"></confetti>\n  <ion-content overflow-scroll="true">\n    <div class="row custom-row responsive-lg">\n      <div class="col custom-col col-50 col-offset-25">\n        <div style="-webkit-user-select: text;" class="card">\n          <ion-item class="item-divider"> {{::staffDetails.staffName}} | {{::staffDetails.staffStatus}}</ion-item>\n          <ion-item class="item-text-wrap" ng-show="::staffDetails.staffPhone">\n            <div class="row custom-row">\n              <b class="col custom-col">\n                <span translate="STAFF-PHONE"></span>:\n              </b>\n              <dfn class="col custom-col">\n                <a href="tel:{{::staffDetails.staffPhone}}">\n                  {{::staffDetails.staffPhone}}\n                </a>\n              </dfn>\n            </div>\n          </ion-item>\n          <ion-item class="item-text-wrap" ng-show="::staffDetails.staffHomePhone">\n            <div class="row custom-row">\n              <b class="col custom-col">\n                <span translate-once="STAFF-HOME-PHONE"></span>:\n              </b>\n              <dfn class="col custom-col">\n                <a href="tel:{{::staffDetails.staffHomePhone}}">\n                  {{::staffDetails.staffHomePhone}}\n                </a>\n              </dfn>\n            </div>\n          </ion-item>\n          <ion-item class="item-text-wrap" ng-show="::staffDetails.staffEmail">\n            <div class="row custom-row">\n              <b class="col custom-col">\n                <span translate-once="STAFF-EMAIL"></span>:\n              </b>\n              <dfn class="col custom-col">\n                <a href="mailto:{{::staffDetails.staffEmail}}">\n                  {{::staffDetails.staffEmail}}\n                </a>\n              </dfn>\n            </div>\n          </ion-item>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),e.put("components/staff/staff.html",'<ion-view name="master-view" class="themeBackgroundColor">\n  <ion-nav-title><span translate-once="STAFF-VIEW-TITLE"></span></ion-nav-title>\n  <ion-nav-buttons side="left">\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\n  </ion-nav-buttons>\n  <ion-nav-buttons side="right">\n    <button class="button button-icon button-clear ion-ios-search-strong" ng-click="::staff.doShowSearchBar()"></button>\n  </ion-nav-buttons>\n  <div class="row custom-row responsive-lg">\n    <div class="col custom-col col-50 col-offset-25">\n      <div class="searchBar" ng-show="staff.showSearchBar">\n        <br>\n        <div class="card">\n          <ion-item class="item-input">\n            <i class="icon ion-search placeholder-icon"></i>\n            <input id="searchBar" autofocus type="text" translate-once-placeholder="SEARCH" ng-model="staff.searchBar.bar">\n            <button ng-click="::staff.emptySearchBar()" class="button-clear">\n              <i class="icon ion-close"></i>\n            </button>\n          </ion-item>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \n  <confetti today="today" birthday="birthday"></confetti>\n  <ion-content overflow-scroll="true">\n    <ion-refresher on-refresh="::staff.refresh()"></ion-refresher>\n    <!--searchBar spacer-->\n    <div ng-show="staff.showSearchBar"><br><br><br><b></b></div>\n    <div class="row custom-row responsive-lg">\n      <div class="col custom-col col-50 col-offset-25">\n        <div ng-repeat="item in staff.staffList|filter:staff.searchBar.bar|limitTo:staff.limit" class="card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\n          <ion-item href="#/app/staff/{{::item.t_id}}">\n            <!-- ng-class="{thomas:(item.calc_name == \'Gutiérrez, Thomás\'), admin:(item.calc_status == \'Administration\' || item.calc_status == \'Administración\'), ct:(item.calc_status == \'Classroom Teacher\' || item.calc_status == \'Profesor\'), ta:(item.calc_status == \'Teacher Assistant\' || item.calc_status == \'Asistente de Profesor\'), ptt:(item.calc_status == \'Part-Time Teacher\' || item.calc_status == \'Profesor Tiempo Parcial\'), os:(item.calc_status == \'Office Staff\' || item.calc_status == \'Oficinistas\'), c:(item.calc_status == \'Coach\' || item.calc_status == \'Entrenador\'), sb:(item.calc_status == \'School Board\' || item.calc_status == \'Junta Directiva\')}"--> \n            <b>{{::item.calc_status}}: </b>{{::item.calc_name}}\n          </ion-item>\n        </div>\n      </div>\n    </div>\n    <ion-infinite-scroll\n      on-infinite="::staff.loadMore()"\n      distance=".2%">\n    </ion-infinite-scroll>\n  </ion-content>\n</ion-view>')}])}(),function(e){function t(e,t,n,a,s){t.debugInfoEnabled(!0),e.debugEnabled(!0),n.translations("en",{"PULL-TO-REFRESH":"Pull to refresh...",LOGOUT:"Logout",SEARCH:"Search...","LOGIN-USER":"User ID","LOGIN-PASSWORD":"Password",LOGIN:"Login","LOGIN-LOADING":"Loading...","PROFILE-VIEW-TITLE":"Profile","PROFILE-BORN":"Born","PROFILE-ENROLLED":"You are in ","PROFILE-ENROLLED2":"th grade","PROFILE-BALANCE":"Credit","PROFILE-RECORDS":"Records","PROFILE-DOCUMENTS":"Documents","PROFILE-MISSING":"Missing Assignments","PROFILE-MISSING-WORTH":"Worth","PROFILE-MISSING-POINTS":"Points","CHECK-UR-GRADES":"Check your Grades","PROFILE-BALANCE-FAM":"Family Credits","PROFILE-CLASS-SCHEDULE":"Class Schedule","PROFILE-NO-SCHEDULE":"No Schedule Found!","HOMEWORK-VIEW-TITLE":"Homework","HOMEWORK-ASSIGNMENTS":"Today's homework","HOMEWORK-NOHOMEWORK":"There's no homework!","HOMEWORK-NOHOMEWORK-TEXT":"But that's not that bad... ;)","HOMEWORK-PICK-CLASS-FILTER":"Pick a Class","HOMEWORK-CLEAR-CLASS-FILTER":"Clear Filter","HOMEWORK-CANCEL-CLASS-FILTER":"Cancel","GRADES-VIEW-TITLE":"Grades","GRADES-WITHHELD":"Your grades have been withheld. Please pay the caja to restore them.","GRADES-TEACHER-PHONE":"Phone","GRADES-TEACHER-CONTACT":"Contact Info","GRADES-TEACHER-EMAIL":"Email","GRADES-CLASS-ROOM":"Room","GRADES-BREAKDOWN":"Grading Scale","GRADES-YOUR-GRADE":"Grade","GRADES-CLASS-AVERAGE":"Class Average","GRADES-CLASS-PERIOD":"Period","GRADES-CLASS-TERM":"Term","GRADES-LAST-UPDATED":"Last Update","GRADES-NOCLASSES":"No classes here... it could be worse ;)","GRADES-GRADES":"Grades","GRADES-NO-GRADES-LIST":"No grades found.","EVENTS-VIEW-TITLE":"Events","EVENTS-LOCATION":"Location","EVENTS-TIME":"Time","EVENTS-DATE":"Date","EVENTS-NOEVENTS":"THERE ARE NO EVENTS!","CAFETERIA-VIEW-TITLE":"Cafeteria","CAFETERIA-NOFOOD":"WE HAVE NO FOOOOOOOOD!","CAFETERIA-TODAYS-FOOD":"Today's lunch","CAFETERIA-BALANCE-HISTORY":"Balance History","CAFETERIA-TRANSACTION-METHOD":"Account","CAFETERIA-TRANSACTION-ITEM":"Item","CAFETERIA-TRANSACTION-AUTHORIZED-BY":"Authorized By","CAFETERIA-TRANSACTION-DATE-TIME":"Date-Time","CAFETERIA-TRANSACTION-PRICE":"Price","CAFETERIA-TRANSACTION-HISTORY":"Transaction History","CAFETERIA-SHOW-MORE":"Show More...","CAFETERIA-SHOW-LESS":"Show Less...","CAFETERIA-NOTHING-FOUND":"Nothing Found","CAFETERIA-STUDENT":"Student","CAFETERIA-FAMILY":"Family","CAFETERIA-NO-FAMILY-TRANSACTIONS":"No Family Transactions","CAFETERIA-NO-STUDENT-TRANSACTIONS":"No Student Transactions","STAFF-VIEW-TITLE":"Staff","STAFF-HOME-PHONE":"Home Phone","STAFF-PHONE":"CellPhone","STAFF-EMAIL":"Email","SETTINGS-VIEW-TITLE":"Settings","SETTINGS-SELECTED-LANG":"Selected Language","SETTINGS-SELECTED-THEME":"Selected Theme","SETTINGS-THEME-LIGHT":"Light","SETTINGS-THEME-DARK":"Dark","SETTINGS-THEME-MILD":"Mild","SETTINGS-SUGGESTIONS":"Suggestions","SETTINGS-YOUR-NAME":"Name","SETTINGS-SUGGESTION-SUBJECT":"Subject","SETTINGS-SUGGESTION-BODY":"Comment","SETTINGS-SUGGESTION-MAILUS":"Mail Us","SETTINGS-DELETE-PICS":"Delete Pics","SETTINGS-DELETE-PICS-MESSAGE":"For performance and data savings reasons, we store profiles pictures. You may wish to delete currently stored pictures for reasons unknown to  mankind;  ¯\\_(ツ)_/¯. Understand, this cannot be undone.","SETTINGS-NO-PICS":"No other pictures are stored.","SETTINGS-DELETE":"Delete","SETTINGS-CANCEL":"Cancel","SETTINGS-DELETE-TITLE":"Delete Stored pictures"}),n.translations("es",{"PULL-TO-REFRESH":"Hale para refrescar...",LOGOUT:"Salir",SEARCH:"Buscar...","LOGIN-USER":"ID de Usuario","LOGIN-PASSWORD":"Contraseña",LOGIN:"Entrar","LOGIN-LOADING":"Cargando...","PROFILE-VIEW-TITLE":"Perfil","PROFILE-BORN":"Nacido","PROFILE-ENROLLED":"Usted esta en ","PROFILE-ENROLLED2":"º grado","PROFILE-BALANCE":"Credito","PROFILE-RECORDS":"Registros","PROFILE-DOCUMENTS":"Documentos","PROFILE-MISSING":"Tareas Pendientes","PROFILE-MISSING-WORTH":"Valor","PROFILE-MISSING-POINTS":"Puntos","CHECK-UR-GRADES":"Revisar Notas","PROFILE-BALANCE-FAM":"Credito Familiar","PROFILE-CLASS-SCHEDULE":"Horario de Clases","PROFILE-NO-SCHEDULE":"No Se Encontró Horario!","HOMEWORK-VIEW-TITLE":"Tareas","HOMEWORK-ASSIGNMENTS":"Tareas del dia","HOMEWORK-NOHOMEWORK":"No hay tareas!","HOMEWORK-NOHOMEWORK-TEXT":"Pero eso no es tan malo... ;)","HOMEWORK-PICK-CLASS-FILTER":"Elegir Clase","HOMEWORK-CLEAR-CLASS-FILTER":"Todas las Clases","HOMEWORK-CANCEL-CLASS-FILTER":"Cancelar","GRADES-VIEW-TITLE":"Notas","GRADES-WITHHELD":"Tus notas han sido retenidas. Por favor pagar a la caja para restaurarlas","GRADES-TEACHER-PHONE":"Teléfono","GRADES-TEACHER-CONTACT":"Info de Contacto","GRADES-TEACHER-EMAIL":"Correo Electronico","GRADES-CLASS-ROOM":"Aula","GRADES-BREAKDOWN":"Escala","GRADES-YOUR-GRADE":"Nota","GRADES-CLASS-AVERAGE":"Promedio de Clase","GRADES-CLASS-PERIOD":"Periodo","GRADES-CLASS-TERM":"Semestre","GRADES-LAST-UPDATED":"Ultima Actualizacion","GRADES-NOCLASSES":"No hay classes... ;)","GRADES-GRADES":"Notas","GRADES-NO-GRADES-LIST":"No se encontraron notas.","EVENTS-VIEW-TITLE":"Eventos","EVENTS-LOCATION":"Lugar","EVENTS-TIME":"Hora","EVENTS-DATE":"Fecha","EVENTS-NOEVENTS":"NO HAY EVENTOS!","CAFETERIA-VIEW-TITLE":"Cafetería","CAFETERIA-NOFOOD":"NO HAY COMIIIIIIDA!","CAFETERIA-TODAYS-FOOD":"Almuerzo del dia","CAFETERIA-BALANCE-HISTORY":"Balance","CAFETERIA-TRANSACTION-METHOD":"Cuenta","CAFETERIA-TRANSACTION-ITEM":"Objeto","CAFETERIA-TRANSACTION-AUTHORIZED-BY":"Autorizado Por","CAFETERIA-TRANSACTION-DATE-TIME":"Fecha-Hora","CAFETERIA-TRANSACTION-PRICE":"Precio","CAFETERIA-TRANSACTION-HISTORY":"Transacciones","CAFETERIA-SHOW-MORE":"Mostrar Mas...","CAFETERIA-SHOW-LESS":"Mostrar Menos...","CAFETERIA-NOTHING-FOUND":"No se encontró nada","CAFETERIA-STUDENT":"Estudiante","CAFETERIA-FAMILY":"Familia","CAFETERIA-NO-FAMILY-TRANSACTIONS":"No Hay Trasacciones de Familia","CAFETERIA-NO-STUDENT-TRANSACTIONS":"No Hay Trasacciones del Estudiante","STAFF-VIEW-TITLE":"Personal","STAFF-HOME-PHONE":"Telefono","STAFF-PHONE":"Telefono Celular","STAFF-EMAIL":"Correo Electronico","SETTINGS-VIEW-TITLE":"Ajustes","SETTINGS-SELECTED-LANG":"Lenguaje Seleccionado","SETTINGS-SELECTED-THEME":"Tema Seleccionado","SETTINGS-THEME-LIGHT":"Claro","SETTINGS-THEME-DARK":"Oscuro","SETTINGS-THEME-MILD":"Tranquilo","SETTINGS-SUGGESTIONS":"Sugerencias","SETTINGS-YOUR-NAME":"Nombre","SETTINGS-SUGGESTION-SUBJECT":"Tema","SETTINGS-SUGGESTION-BODY":"Comentario","SETTINGS-SUGGESTION-MAILUS":"Enviar","SETTINGS-DELETE-PICS":"Borrar Fotos","SETTINGS-DELETE-PICS-MESSAGE":"Por rasones de rendimiento y ahorro de internet, las fotos de perfil se guardan localmente. Puede que usted quiera borrar las fotos de otras personas por razones no conocidas a la humanidad; ¯\\_(ツ)_/¯. Esto no se puede deshacer.","SETTINGS-NO-PICS":"No hay otras fotos guardadas.","SETTINGS-DELETE":"Borrar","SETTINGS-CANCEL":"Cancelar","SETTINGS-DELETE-TITLE":"Borrar Fotos Guardadas"}),n.preferredLanguage("en"),n.useSanitizeValueStrategy("escaped"),a.state("login",{url:"/login",templateUrl:"components/login/login.html",controller:"LoginCtrl as login"}).state("app",{url:"/app",abstract:!0,templateUrl:"components/menu/sidemenu.html",controller:"AppCtrl",controllerAs:"app"}).state("app.profile",{url:"/profile",views:{"master-view":{templateUrl:"components/profile/profile.html",controller:"ProfileCtrl as profile"}}}).state("app.homework",{url:"/homework",views:{"master-view":{templateUrl:"components/homework/homework.html",controller:"HomeworkCtrl as homework"}}}).state("app.grades",{url:"/grades",views:{"master-view":{templateUrl:"components/grades/grades.html",controller:"GradesCtrl as grades"}}}).state("app.grades.gradeDetails",{url:"/:PERIODID/:TEACHERID",views:{"master-view@app":{templateUrl:"components/grades/grades-details.html",controller:"GradesDetailsCtrl as gradesDetails"}}}).state("app.events",{url:"/events",views:{"master-view":{templateUrl:"components/events/events.html",controller:"EventsCtrl as events"}}}).state("app.events.eventDetails",{url:"/:EVENTID",views:{"master-view@app":{templateUrl:"components/events/event-details.html",controller:"EventsDetailsCtrl as eventsDetails"}}}).state("app.cafeteria",{url:"/cafeteria",views:{"master-view":{templateUrl:"components/cafeteria/cafeteria.html",controller:"CafeteriaCtrl as cafeteria"}}}).state("app.staff",{url:"/staff",views:{"master-view":{templateUrl:"components/staff/staff.html",controller:"StaffCtrl as staff"}}}).state("app.staff.staffDetails",{url:"/:STAFFID",views:{"master-view@app":{templateUrl:"components/staff/staff-details.html",controller:"StaffDetailsCtrl as staffDetails"}}}).state("app.settings",{url:"/settings",views:{"master-view":{templateUrl:"components/settings/settings.html",controller:"SettingsCtrl as settings"}}}),s.otherwise(function(e,t){e.get("$state").go("app.profile")})}e.module("studentaccess").config(["$logProvider","$compileProvider","$translateProvider","$stateProvider","$urlRouterProvider",t])}(window.angular),function(){function e(e,t,n,a,s,o,i){function r(e){u.cafeteriaMenu=e}function c(e){function t(e){return e.credhist_balance}function n(e){var t=e.credhist_datetime.replace(/\ .*/,"").split("-");return a[t[1]]+", "+t[2]}var a={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},s=$array.groupObjects($array.reverse(e))([function(e){return"Crédito del Cliente"===e.credhist_method||"Client Credit"===e.credhist_method},function(e){return"Crédito de la Familia"===e.credhist_method||"Family Credit"===e.credhist_method}]);return{student:{data:s[0].map(t),labels:s[0].map(n)},family:{data:s[1].map(t),labels:s[1].map(n)}}}function l(e,n){var s=n*-1;e&&n?e.data&&Array.isArray(e.data)&&e.labels&&Array.isArray(e.labels)&&e.labels.length>n?(u.chartLabels=t("limitTo")(e.labels,s),u.chartData=t("limitTo")(e.data,s),a.log("updateChart: updated chart")):a.log("updateChart: limit > arr.length"):e&&!n?(u.chartLabels=e.labels,u.chartData=e.data):n&&!e?(u.chartLabels=t("limitTo")(u.chartLabels,s),u.chartData=t("limitTo")(u.chartData,s)):a.error("updateChart: bad params")}function d(e){u.transactionHistory=e;var t=c(e);u.studentTransactions=t.student,u.familyTransactions=t.family,l("CAFETERIA-STUDENT"===u.current?u.studentTransactions:u.familyTransactions),s(function(){l(null,10)},9e3)}var u=this;u.refresh=function(){n.refresh(["cafeteriaMenu","cafeteriaTransactions"]).then(function(e){e.cafeteriaMenu&&r(e.cafeteriaMenu),e.cafeteriaTransactions&&d(e.cafeteriaTransactions)})},u.switch=function(){var e;"CAFETERIA-STUDENT"===u.current?(u.current="CAFETERIA-FAMILY",e=u.familyTransactions):(u.current="CAFETERIA-STUDENT",e=u.studentTransactions),l(e,10)},u.emptySearchBar=function(){u.searchBar={}},u.doShowSearchBar=function(){u.showSearchBar=u.showSearchBar!==!0,u.searchBar={},u.transactionLimit=u.showSearchBar===!0?u.transactionLimit+9:u.transactionLimit-9},u.transactionShowLess=function(){u.transactionLimit=u.transactionLimit-9,a.log(u.transactionLimit+" >= "+u.transactionHistory.length)},u.transactionShowMore=function(){u.transactionLimit=u.transactionLimit+9,a.log(u.transactionLimit+" < "+u.transactionHistory.length)},u.chartLabels=[],u.chartData=[],u.searchBar={},u.transactionLimit=3,u.current="CAFETERIA-STUDENT",i.anything("STUDENT_MENU","day").then(function(){return o.getStudentCafeteria()}).catch(function(){return e.getItem("STUDENT_MENU",!0).then(function(e){return e.data})}).then(r),i.anything("STUDENT_TRANSACTIONS","month").then(function(){return o.getStudentCredit()}).catch(function(){return e.getItem("STUDENT_TRANSACTIONS",!0).then(function(e){return e.data})}).then(d)}angular.module("studentaccess").controller("CafeteriaCtrl",["$localForage","$filter","$rootScope","$log","$timeout","StudentService","UpdateService",e])}(),function(){angular.module("studentaccess").component("confetti",{replace:!0,template:'<canvas id="{{::$ctrl.canvasId}}" style="position: absolute;display: block;width: 100%;z-index: -10;height: 100%;" ng-show="::$ctrl.showConfetti"></canvas>',controller:["$log","$timeout",function(e,t){var n=this;n.canvasId="canvasId"+Math.floor(1e3*Math.random()+1),e.debug("confetti: init"),e.debug("confetti: id = '"+n.canvasId+"'"),t(function(){"string"==typeof n.today&&"string"==typeof n.birthday&&n.today===n.birthday?(!function(t){function n(){s.clearRect(0,0,o,i);for(var e=0;e<r;e++){var t=c[e];s.beginPath(),s.lineWidth=t.r,s.strokeStyle=t.color,s.moveTo(t.x,t.y),s.lineTo(t.x+t.tilt+t.r/2,t.y+t.tilt),s.stroke()}a()}function a(){d+=.01;for(var e=0;e<r;e++){var t=c[e];t.y+=Math.cos(d+t.d)+t.r/2,t.x+=2*Math.sin(d),(t.x>o+5||t.x<-5||t.y>i)&&(e%3>0?c[e]={x:Math.random()*o,y:-10,r:t.r,d:t.d,color:t.color,tilt:t.tilt}:Math.sin(d)>0?c[e]={x:-5,y:Math.random()*i,r:t.r,d:t.d,color:t.color,tilt:t.tilt}:c[e]={x:o+5,y:Math.random()*i,r:t.r,d:t.d,color:t.color,tilt:t.tilt})}}e.debug("confetti: confetti()");for(var s=document.getElementById(t).getContext("2d"),o=window.innerWidth,i=window.innerHeight,r=60,c=[],l=0;l<r;l++)c.push({x:Math.random()*o,y:Math.random()*i,r:15*Math.random()+1,d:Math.random()*r,color:"rgba("+Math.floor(255*Math.random())+", "+Math.floor(255*Math.random())+", "+Math.floor(255*Math.random())+", 0.8)",tilt:Math.floor(5*Math.random())-5});var d=0;setInterval(n,20)}(n.canvasId),n.showConfetti=!0,e.debug("confetti: showing")):(n.showConfetti=!1,e.debug("confetti: not showing")),e.debug("confetti: "+n.today+" vs "+n.birthday)},1500)}],bindings:{today:"=",birthday:"="}})}(),function(){function e(e,t,n,a){var s=this;s.goEvents=function(){a.go("app.events")};var o=n.EVENTID;e.eventsList&&"{}"!==JSON.stringify(e.eventsList)&&o in e.eventsList?(s.eventSubject=e.eventsList[o].calc_subject,s.eventStartDate=e.eventsList[o].ev_date_start,s.eventStartTime=e.eventsList[o].ev_time_start,s.eventEndTime=e.eventsList[o].ev_time_end,s.eventEndDate=e.eventsList[o].ev_date_end,s.eventLocation=e.eventsList[o].calc_location,s.eventText=e.eventsList[o].calc_text,s.eventCalcStartDate=e.eventsList[o].calc_ev_date_start,s.eventCalcStartTime=e.eventsList[o].calc_ev_time_start):(s.goEvents(),t.error("EventsDetailsCtrl: data not found"))}angular.module("studentaccess").controller("EventsDetailsCtrl",["$rootScope","$log","$stateParams","$state",e])}(),function(){function e(e,t,n,a){function s(e){o.events=e,t.eventsList=$array.convertToObject(e)("ev_id")}var o=this;o.refresh=function(){t.refresh(["eventsEvents"]).then(function(e){e.eventsEvents&&s(e.eventsEvents)})},a.anything("STUDENT_EVENTS","day").then(function(){return n.getStudentEvents()}).catch(function(){return e.getItem("STUDENT_EVENTS",!0).then(function(e){return e.data})}).then(s)}angular.module("studentaccess").controller("EventsCtrl",["$localForage","$rootScope","StudentService","UpdateService",e])}(),function(){function e(e,t,n,a,s){var o=this;o.Math=window.Math,o.isFinite=window.isFinite,o.goGrades=function(){s.go("app.grades")},n.$on("$ionicView.loaded",function(){var n=a.PERIODID,s=a.TEACHERID;e.gradesClasses&&"{}"!==JSON.stringify(e.gradesClasses)&&n in e.gradesClasses?(o.gradeClass=e.gradesClasses[n].class_name,o.gradeClassPeriod=e.gradesClasses[n].class_period,o.gradeClassDesc=e.gradesClasses[n].class_description,o.gradeClassRoom=e.gradesClasses[n].class_room,o.gradeBreakdown=e.gradesClasses[n].class_scale,o.gradeLastUpdate=e.gradesClasses[n].class_updated,o.gradeAverage=e.gradesClasses[n].class_avg,o.gradeGrades=e.gradesClasses[n].grades):(o.goGrades(),t.error("GradesDetailsCtrl: data not found")),e.teachersList&&"{}"!==JSON.stringify(e.teachersList)&&s in e.teachersList?(o.gradeTeacherName=e.teachersList[s].teacher_name,o.gradeTeacherEmail=e.teachersList[s].teacher_email,o.gradeTeacherPhone=e.teachersList[s].teacher_phone,o.gradeTeacherPic=e.teachersList[s].teacher_pic,document.getElementById("teacherPicture").src="data:image/jpeg;base64,"+e.teachersList[s].teacher_pic):t.error("GradesDetailsCtrl: data not found")})}angular.module("studentaccess").controller("GradesDetailsCtrl",["$rootScope","$log","$scope","$stateParams","$state",e])}(),function(){function e(e,t,n,a,s){function o(e){c.classes=e.classes,t.gradesClasses=$array.convertToObject(e.classes)("class_period")}function i(e){t.teachersList=$array.convertToObject(e)("teacher_id")}function r(e){e&&"[]"!==JSON.stringify(e)&&"0"===e.withhold_grades&&null!==e.overall_avg?c.totalAvg=e.overall_avg:e&&"[]"!==JSON.stringify(e)&&"1"===e.withhold_grades?c.totalAvg="$$.$":c.totalAvg="??.?"}var c=this;c.Math=window.Math,c.classes=[],c.refresh=function(){t.refresh(["gradesSchedule","gradesGrades","gradesTeachers"]).then(function(e){e.gradesSchedule&&r(e.gradesSchedule),e.gradesGrades&&o(e.gradesGrades),e.gradesTeachers&&i(e.gradesTeachers)})},s.anything("STUDENT_SCHEDULE","month").then(function(){return a.getStudentSchedule()}).catch(function(){return e.getItem("STUDENT_SCHEDULE",!0).then(function(e){return e.data})}).then(r),s.anything("STUDENT_GRADES","day").then(function(){return a.getStudentGrades()}).catch(function(){return e.getItem("STUDENT_GRADES",!0).then(function(e){return e.data})}).then(o),s.anything("TEACHERS","month").then(function(){return a.getStudentTeachersData()}).catch(function(){return e.getItem("TEACHERS",!0).then(function(e){return e.data})}).then(i)}angular.module("studentaccess").controller("GradesCtrl",["$localForage","$rootScope","$log","StudentService","UpdateService",e])}(),function(){function e(e,t,n,a,s,o,i,r){function c(){o.show({titleText:"<h3>"+s("translate")("HOMEWORK-PICK-CLASS-FILTER")+"</h3>",buttons:u.classes,destructiveText:s("translate")("HOMEWORK-CLEAR-CLASS-FILTER"),cancelText:s("translate")("HOMEWORK-CANCEL-CLASS-FILTER"),cancel:function(){a.log("actionSheet CANCELLED")},buttonClicked:function(e){return u.homeworkFilter.filter=u.classes[e].text,a.log("CLASS PICKED  place in list:",e," ",u.classes[e].text),!0},destructiveButtonClicked:function(){return a.log("CLEARED the filter"),u.homeworkFilter={},!0}})}function l(){n.alert({title:s("translate")("HOMEWORK-NOHOMEWORK"),template:"<center>"+s("translate")("HOMEWORK-NOHOMEWORK-TEXT")+"</center>"})}function d(e){u.homeworkCheckList=e,"[]"!==JSON.stringify(e)?(u.classes=$array.filterByKey(u.homeworkCheckList)("calc_class","text"),u.homeworkFilter={},u.doShowFilterOptions=c):u.doShowFilterOptions=l}var u=this;u.refresh=function(){t.refresh(["homeworkHomework"]).then(function(e){e.homeworkHomework&&d(e.homeworkHomework)})},r.anything("STUDENT_HOMEWORK","day").then(function(){return i.getStudentHomework()}).catch(function(){return e.getItem("STUDENT_HOMEWORK",!0).then(function(e){return e.data})}).then(d)}angular.module("studentaccess").controller("HomeworkCtrl",["$localForage","$rootScope","$ionicPopup","$log","$filter","$ionicActionSheet","StudentService","UpdateService",e])}(),function(){function e(e,t,n,a,s,o,i,r,c,l){var d=this;d.ncaLogo='<img class="ncaLogo" src="./img/icon.png" />StudentAccess',d.data={},s.$on("loginBegin",function(){n.show({template:'<ion-item style="width:250px;color:white">'+t("translate")("LOGIN-LOADING")+'</ion-item><div style="left:27px;height:70px" class="loader"><div class="loader-inner pacman"><div></div><div></div><div></div><div></div><div></div></div></div>'})}),s.$on("teachersDataDone",function(){n.hide()}),l.getItem("STUDENT_CHOSEN_THEME",!0).then(function(t){s.themeCss=t,e.info(t+" was loaded as chosen theme from login")},function(){s.themeCss="mild"}),l.getItem("STUDENT_CHOSEN_LANGUAGE",!0).then(function(t){a.use(t),d.selectedLang=t,e.info(t+" was loaded as chosen language from login")},function(){d.selectedLang="en"}),d.login=function(t){s.$broadcast("loginBegin"),e.info("login.login() called"),r.login(t.usernameInput,t.passwordInput).then(function(t){o.go("app.profile"),e.info("authservice.login was called"),d.data={}},function(e){n.hide(),"success"===c.check(e)?(d.data.passwordInput="",i.alert({title:"Login failed!",template:"<center>Check your User ID and password!</center>"})):"else"===e&&i.alert({title:"Unspecified error!",template:"<center>An error was detected, please try again.</center>"})})},s.show=!0}angular.module("studentaccess").controller("LoginCtrl",["$log","$filter","$ionicLoading","$translate","$rootScope","$state","$ionicPopup","AuthService","NetworkService","$localForage",e])}(),function(){function e(e,t,n,a,s,o,i,r,c,l,d,u,m,g,E,f){function h(){return t(function(t,n){e.getItem("STUDENT_PHOTO",!0).then(function(e){var a=e.filter(function(e){return e.userID===o.userInputsName});a.length?t(a[0].pic):n(o.userInputsName+"'s picture not found")},function(){n("No pictures found")})})}function S(){n.debug("refreshed everything"),g.anything("STUDENT_MISSING","day").then(function(){m.getStudentMissing()}),g.anything("STUDENT_HOMEWORK","day").then(function(){m.getStudentHomework()}),g.anything("STUDENT_GRADES","day").then(function(){m.getStudentGrades()}),g.anything("STUDENT_SCHEDULE","month").then(function(){m.getStudentSchedule()}),g.anything("TEACHERS","month").then(function(){m.getStudentTeachersData()}),g.anything("STUDENT_EVENTS","day").then(function(){m.getStudentEvents()}),g.anything("STUDENT_MENU","day").then(function(){m.getStudentCafeteria()}),g.anything("STUDENT_TRANSACTIONS","month").then(function(){m.getStudentCredit()}),g.anything("STAFF","month").then(function(){m.getStudentStaff()}),g.anything("SCHEDULES","month").then(function(){m.getSchedulesData()})}n.debug("app"),o.refresh=function(e){var a={profileMissing:m.getStudentMissing(),profileStudent:m.getStudentData(),profileSchedules:m.getSchedulesData(),homeworkHomework:m.getStudentHomework(),gradesSchedule:m.getStudentSchedule(),gradesGrades:m.getStudentGrades(),gradesTeachers:m.getStudentTeachersData(),eventsEvents:m.getStudentEvents(),cafeteriaMenu:m.getStudentCafeteria(),cafeteriaTransactions:m.getStudentCredit(),staffStaff:m.getStudentStaff()};return t.all(a).then(function(t){o.$broadcast("scroll.refreshComplete"),i.clearCache();var a={};if(e&&Array.isArray(e)){for(var s=0,r=e.length;s<r;s++)t[e[s]]&&(a[e[s]]=t[e[s]]);n.debug("refresh: all and returned "+e.join(", "))}else n.error("refresh: all and returned empty obj");return a},function(e){E.check(e.status),o.$broadcast("scroll.refreshComplete")})},o.ChangeLanguage=function(t){i.clearCache(),s.use(t),o.language=t,m.getStudentMissing(),m.getStudentHomework(),m.getStudentGrades(),m.getStudentEvents(),m.getStudentCafeteria(),m.getStudentStaff(),e.setItem("STUDENT_CHOSEN_LANGUAGE",t),n.debug(t+" is the chosen language")},o.ChangeTheme=function(t){o.themeCss=t,e.setItem("STUDENT_CHOSEN_THEME",t),n.debug(t+" is the new theme")},o.goBack=function(){i.goBack()},o.logout=function(){i.clearHistory(),i.clearCache(),delete o.studentPhoto,d.logout()},o.$on(u.notAuthenticated,function(e){d.logout(),i.clearCache(),i.clearHistory(),c.go("login"),l.alert({title:"Session Lost!",template:"Sorry, You have to login again."})}),S(),g.studentPic().then(function(){return m.getStudentPhoto()}).catch(function(e){return h()}).then(function(e){function t(){(document.getElementById("studentProfilePic")||document.getElementById("studentMenuPic"))&&(document.getElementById("studentProfilePic")&&(document.getElementById("studentProfilePic").src!=="data:image/jpeg;base64,"+e?(document.getElementById("studentProfilePic").src="data:image/jpeg;base64,"+e,n.debug("setPhoto: profile done")):n.debug("setPhoto: profile already set")),document.getElementById("studentMenuPic")&&(document.getElementById("studentMenuPic").src!=="data:image/jpeg;base64,"+e?(document.getElementById("studentMenuPic").src="data:image/jpeg;base64,"+e,n.debug("setPhoto: menu done")):n.debug("setPhoto: menu already set")))}o.studentPhoto="data:image/jpeg;base64,"+e,f(function(){t()},1700,2,!1)}),e.getItem("STUDENT_CHOSEN_LANGUAGE",!0).then(function(e){s.use(e),n.debug(e+" was loaded as chosen language"),o.language=e},function(){o.language="en"}),o.langs=[{name:"English",lang:"en"},{name:"Español",lang:"es"}],e.getItem("STUDENT_CHOSEN_THEME",!0).then(function(e){
o.themeCss=e,n.debug(e+" was loaded as chosen theme")},function(){o.themeCss="mild"}),o.themes=[{name:"SETTINGS-THEME-LIGHT",url:"light"},{name:"SETTINGS-THEME-MILD",url:"mild"},{name:"SETTINGS-THEME-DARK",url:"dark"}],g.anything("STUDENT_LOGIN","day").then(function(){return m.getStudentData()}).catch(function(){return e.getItem("STUDENT_LOGIN",!0).then(function(e){return e.data})}).then(function(e){if("{}"!==JSON.stringify(e)){var t=e.birthdate.split("-"),n={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"};o.birthday=n[t[1]]+"-"+t[0]}var a=o.date.split("-");o.today=a[1]+"-"+parseInt(a[2])}),o.show=!0}angular.module("studentaccess").controller("AppCtrl",["$localForage","$q","$log","$timeout","$translate","$rootScope","$ionicHistory","$ionicSideMenuDelegate","$state","$ionicPopup","AuthService","AUTH_EVENTS","StudentService","UpdateService","NetworkService","$interval",e])}(),function(){function e(e,t,n,a,s,o,i,r,c,l){function d(e){t.warn(e),g.missingsNumber=e.num_missing,g.missingMissing=e.missing}function u(e){"{}"!==JSON.stringify(e)&&(g.eagleCredits=e.credit_student,g.eagleCreditsFam=e.credit_family,g.studentBirthday=e.birthdate,g.studentGrade=e.grade)}function m(e){g.schedules=e,g.schedule=e[0]}var g=this;g.missingsNumber=0,g.refresh=function(){n.refresh(["profileMissing","profileStudent","profileSchedules"]).then(function(e){e.profileMissing&&d(e.profileMissing),e.profileStudent&&u(e.profileStudent),e.profileSchedules&&m(e.profileSchedules)})},g.doShowMissing=function(){g.missingsNumber&&(g.showMissing=!g.showMissing)},g.goGrades=function(){o.go("app.grades")},g.doShowActionSheet=function(){s.show({titleText:"<h3>Pick a Schedule</h3>",buttons:g.schedules,cancelText:a("translate")("HOMEWORK-CANCEL-CLASS-FILTER"),cancel:function(){t.log("actionSheet CANCELLED")},buttonClicked:function(e){return g.schedule=g.schedules[e],t.log("schedule in list: ",e," ",g.schedules[e].type),!0}})},r.anything("STUDENT_MISSING","day").then(function(){return i.getStudentMissing()}).catch(function(){return e.getItem("STUDENT_MISSING",!0).then(function(e){return e.data})}).then(d),r.anything("STUDENT_LOGIN","day").then(function(){return i.getStudentData()}).catch(function(){return e.getItem("STUDENT_LOGIN",!0).then(function(e){return e.data})}).then(u),r.anything("SCHEDULES","month").then(function(){return i.getSchedulesData()}).catch(function(){return e.getItem("SCHEDULES",!0).then(function(e){return e.data})}).then(m)}angular.module("studentaccess").controller("ProfileCtrl",["$localForage","$log","$rootScope","$filter","$ionicActionSheet","$state","StudentService","UpdateService","$ionicPopover","$scope",e])}(),function(e){function t(e,t,n,a,s,o){function i(e,t){window.localStorage.auth="true",g=!0,a.personName="Jacob Orozco"===e.person_name?"LOL":e.person_name,a.userInputsName=t.user,a.userInputsPass=t.pass}function r(e,t){s.setItem(["USER_INPUTS","STUDENT_LOGIN"],[t,o.attachDate(e)]),i(e,t)}function c(){s.getItem(["STUDENT_LOGIN","USER_INPUTS"],!0).then(function(e){i(e[0].data,e[1])},function(){g=!1,window.localStorage.auth="false"})}function l(e,a){return t(function(t,i){n({url:m,method:"GET",params:{mode:"student",query:"login",username:e,password:a}}).then(function(n){u=n.data,1===u.login_status?(r(u,{user:e,pass:a}),t("success"),s.setItem("STUDENT_LOGIN",o.attachDate(u))):i("fail")},function(e){i(e.status<=0?0:"else")})})}function d(){g=!1,window.localStorage.auth="false",s.removeItem(["STUDENT_LOGIN","STUDENT_MISSING","STUDENT_HOMEWORK","STUDENT_SCHEDULE","STUDENT_GRADES","STUDENT_EVENTS","STUDENT_MENU","STUDENT_TRANSACTIONS","SCHEDULES","STAFF","TEACHERS","USER_INPUTS"])}var u,m="https://db.nca.edu.ni/api/api_ewapp.php",g=!1;return returns={login:l,logout:d},c(),returns}e.module("studentaccess").service("AuthService",["$log","$q","$http","$rootScope","$localForage","StudentService",t])}(window.angular),function(e){function t(e,t,n,a,s,o){function i(){n.alert({title:"Ooops!",template:"<center>It seems you're offline. Please check your network connection.</center>"})}function r(e){return e<=0?(i(),"fail"):"success"}function c(n){var a="";"offline"===n&&(a=" Please check your network connection");var s='<div class="network"><div class="card"><ion-item class="item-input item-text-wrap"><p>You are '+n+"!"+a+"</p></ion-item></div></div>",i=jqLite(s);e.log(n),t.append(i),o(function(){i.remove()},5e3)}var l={check:r,popup:i,alert:c};return l}e.module("studentaccess").service("NetworkService",["$log","$ionicBody","$ionicPopup","$http","$rootScope","$timeout",t]),jqLite=e.element}(window.angular),function(e){function t(e,t,n,a,s,o,i){function r(){o.date=e("date")(new Date,"yyyy-MM-dd"),t.debug("todays date: "+o.date)}function c(e){return{date:o.date,data:e}}function l(){return s({url:"./components/profile/schedules.json",method:"GET"}).then(function(e){var n=e.data;return n?i.setItem("SCHEDULES",c(n)):t.error("Failed to get studentData!"),n})}function d(e){i.getItem("STUDENT_PHOTO").then(function(n){var a=o.userInputsName,s=[];n?s=n.map(function(e){return e.userID}):n=[],s.indexOf(a)<0?(n.push({userID:a,date:o.date,pic:e}),i.setItem("STUDENT_PHOTO",n),t.debug("newPic: success")):t.debug("newPic: userAlreadyExists")})}function u(){return s({url:b,method:"GET",params:{mode:"student",lang:o.language,query:"login",username:o.userInputsName,password:o.userInputsPass}}).then(function(e){var n=e.data;return n?i.setItem("STUDENT_LOGIN",c(n)):t.error("Failed to get studentData!"),n})}function m(){return s({url:b,method:"GET",params:{query:"events",mode:"student",lang:o.language,username:o.userInputsName,password:o.userInputsPass}}).then(function(e){var n=e.data.events;return n?i.setItem("STUDENT_EVENTS",c(n)):t.error("Failed to get events!"),n})}function g(){return s({url:b,method:"GET",params:{mode:"student",lang:o.language,query:"homework",username:o.userInputsName,password:o.userInputsPass}}).then(function(e){var n=e.data.homework;return n?i.setItem("STUDENT_HOMEWORK",c(n)):t.error("Failed to get hw!"),n})}function E(){return s({url:b,method:"GET",params:{mode:"student",lang:o.language,query:"allgrades",username:o.userInputsName,password:o.userInputsPass}}).then(function(e){var n=e.data;return n?i.setItem("STUDENT_GRADES",c(n)):t.error("Failed to get grades!"),n})}function f(){return s({url:b,method:"GET",params:{mode:"student",lang:o.language,query:"schedule",username:o.userInputsName,password:o.userInputsPass}}).then(function(e){var n=e.data;return n?i.setItem("STUDENT_SCHEDULE",c(n)):t.error("Failed to getschedule!"),n})}function h(){return s({url:b,method:"GET",params:{mode:"student",lang:o.language,query:"allteachers",username:o.userInputsName,password:o.userInputsPass}}).then(function(e){o.$broadcast("teachersDataDone");var n=e.data.teachers;return n?(i.setItem("TEACHERS",c(n)),t.debug("Success. we got teachers data")):t.error("Failed to get teachers data!"),n},function(e){o.$broadcast("teachersDataDone")})}function S(){return s({url:b,method:"GET",params:{mode:"student",lang:o.language,query:"cafeteria",username:o.userInputsName,password:o.userInputsPass}}).then(function(e){var n=e.data.menu;return n?i.setItem("STUDENT_MENU",c(n)):t.error("Failed to get food!"),n})}function p(){return s({url:b,method:"GET",params:{mode:"student",lang:o.language,query:"credit",username:o.userInputsName,password:o.userInputsPass}}).then(function(e){var n=e.data.transactions;return n?i.setItem("STUDENT_TRANSACTIONS",c(n)):t.error("Failed to get credit history!"),n})}function v(){return s({url:b,method:"GET",params:{mode:"student",lang:o.language,query:"missing",username:o.userInputsName,password:o.userInputsPass}}).then(function(e){var n=e.data;return n?i.setItem("STUDENT_MISSING",c(n)):t.error("Failed to get missing ass.!"),n})}function T(){return s({url:b,method:"GET",params:{mode:"student",lang:o.language,query:"staff",username:o.userInputsName,password:o.userInputsPass}}).then(function(e){var n=e.data.staff_list;return n?i.setItem("STAFF",c(n)):t.error("Failed to get staff list!"),n})}function I(){return s({url:b,method:"GET",params:{mode:"student",lang:o.language,query:"myphoto",username:o.userInputsName,password:o.userInputsPass}}).then(function(e){var n=e.data;return n?d(n):t.error("Failed to get photo!"),n})}var b="https://db.nca.edu.ni/api/api_ewapp.php",A={attachDate:c,getSchedulesData:l,getStudentCredit:p,getStudentEvents:m,getStudentData:u,getStudentHomework:g,getStudentCafeteria:S,getStudentMissing:v,getStudentSchedule:f,getStudentGrades:E,getStudentStaff:T,getStudentPhoto:I,getStudentTeachersData:h};return t.debug("stu"),r(),A}e.module("studentaccess").service("StudentService",["$filter","$log","$timeout","$q","$http","$rootScope","$localForage",t])}(window.angular),function(e){function t(e,t,n,a){function s(){return t(function(t,s){a.getItem(["STUDENT_PHOTO","USER_INPUTS"],!0).then(function(a){var o,i,r=e.date.split("-"),c=r[0]+"-"+r[1],l=a[0].filter(function(e){return e.userID===a[1].user});l.length?(o=l[0].date.split("-"),i=o[0]+"-"+o[1],c!==i?(t("get new pic"),n.debug("US.studentPic: get new pic")):(s("pic still valid"),n.debug("US.studentPic: pic still valid"))):t("current user does not exist")},function(){t("undef"),n.debug("US.studentPic: was undef")})})}function o(s,o){return t(function(t,i){s&&o?a.getItem(s,!0).then(function(a){var r,c,l=e.date.split("-"),d=a.date.split("-");"month"===o?(r=l[0]+"-"+l[1],c=d[0]+"-"+d[1]):"day"===o?(r=e.date,c=a.date):n.error("US.anything: bad mode"),r===c?(i("still valid"),n.debug("US.anything: "+s+" still valid")):(t("make call"),n.debug("US.anything: "+s+" outdated"))},function(){t("undef"),n.debug("US.anything: "+s+" was undef")}):n.error("US.anything: bad params")})}var i={studentPic:s,anything:o};return i}e.module("studentaccess").service("UpdateService",["$rootScope","$q","$log","$localForage",t])}(window.angular),function(){function e(e,t,n,a,s,o){var i=this;i.doShowDeletePics=function(){s.getItem("STUDENT_PHOTO",!0).then(function(i){i.length>1?e.confirm({title:a("translate")("SETTINGS-DELETE-TITLE"),template:'<div style="text-align:center">'+a("translate")("SETTINGS-DELETE-PICS-MESSAGE")+"</div>",cancelText:a("translate")("SETTINGS-CANCEL"),okType:"button-assertive",okText:a("translate")("SETTINGS-DELETE")}).then(function(e){if(e){t.show({template:'<ion-item style="width:250px;color:white">'+a("translate")("LOGIN-LOADING")+'</ion-item><div style="left:27px;height:70px" class="loader"><div class="loader-inner pacman"><div></div><div></div><div></div><div></div><div></div></div></div>'});var r=[];r=i.filter(function(e){return e.userID===o.userInputsName}),s.setItem("STUDENT_PHOTO",r),n(function(){t.hide()},4500)}}):e.alert({title:a("translate")("SETTINGS-NO-PICS")})})}}angular.module("studentaccess").controller("SettingsCtrl",["$ionicPopup","$ionicLoading","$timeout","$filter","$localForage","$rootScope",e])}(),function(){function e(e,t,n,a){var s=this;s.goStaff=function(){n.go("app.staff")};var o=a.STAFFID;e.staffList&&"{}"!==JSON.stringify(e.staffList)&&o in e.staffList?(s.staffStatus=e.staffList[o].calc_status,s.staffName=e.staffList[o].calc_name,s.staffHomePhone=e.staffList[o].calc_homephone,s.staffPhone=e.staffList[o].calc_phone,s.staffEmail=e.staffList[o].calc_email):(s.goStaff(),t.error("StaffDetailsCtrl: data not found"))}angular.module("studentaccess").controller("StaffDetailsCtrl",["$rootScope","$log","$state","$stateParams",e])}(),function(){function e(e,t,n,a,s,o){function i(e){r.staffList=e,n.staffList=$array.convertToObject(e)("t_id")}var r=this;r.loadMore=function(){r.limit+=10,e.$broadcast("scroll.infiniteScrollComplete")},r.emptySearchBar=function(){r.searchBar.bar=""},r.doShowSearchBar=function(){r.showSearchBar=!r.showSearchBar,r.searchBar.bar=""},r.refresh=function(){n.refresh(["staffStaff"]).then(function(e){e.staffStaff&&i(e.staffStaff)})},o.anything("STAFF","month").then(function(){return s.getStudentStaff()}).catch(function(){return t.getItem("STAFF",!0).then(function(e){return e.data})}).then(i),r.searchBar={},r.limit=15}angular.module("studentaccess").controller("StaffCtrl",["$scope","$localForage","$rootScope","$log","StudentService","UpdateService",e])}();